{"ast":null,"code":"var _jsxFileName = \"/Users/ac/Desktop/ui/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport classes from \"./App.module.scss\";\nimport HomePage from \"./pages/HomePage/HomePage\";\nimport ActivityParameterPage from \"./pages/ActivityParameterPage/ActivityParameterPage\";\nimport VideoParameterPage from \"./pages/VideoParametersPage/VideoParameterPage\";\n\nconst App = () => {\n  /* Global States */\n  const [activities, setActivities] = useState([]);\n  const [hasActivities, setHasActivites] = useState(false);\n  const [currentActivity, setCurrentActivity] = useState(\"\");\n  const [currentPath, setCurrentPath] = useState(\"/\");\n  /* Homapage States */\n\n  const [tags, setTags] = useState([]);\n  const suggested = [{\n    id: \"Singing\",\n    name: \"Singing\"\n  }, {\n    id: \"Dancing\",\n    name: \"Dancing\"\n  }, {\n    id: \"Kicking\",\n    name: \"Kicking\"\n  }, {\n    id: \"Typing\",\n    name: \"Typing\"\n  }, {\n    id: \"Running\",\n    name: \"Running\"\n  }, {\n    id: \"Lifting\",\n    name: \"Lifting\"\n  }];\n  /* Activity Parameter States */\n\n  const [activityParameters, setActivityParameters] = useState([]);\n  const [switched, setSwitch] = useState(false);\n  const [currentDisplay, setDisplay] = useState({});\n  const [hasActivityParameters, setHasActivityParameters] = useState(false);\n  const [allActivitiesCompleted, setAllActivitiesCompleted] = useState(false);\n  const [checkPopUp, setCheckPopUp] = useState(false);\n  /* Video Parameter States */\n\n  const [videoParameters, setVideoParameters] = useState([]);\n  /***----------------------------Homepage Handlers-----------------------------***/\n\n  const addFromSelected = event => {\n    const suggested = event.target.name.toString();\n    console.log({\n      id: suggested,\n      text: suggested\n    });\n\n    if (!activities.some(a => a.id === suggested && a.name === suggested)) {\n      const tempActivities = [...activities];\n      const tempTags = [...tags];\n      tempTags.push({\n        id: suggested,\n        text: suggested\n      });\n      tempActivities.push({\n        id: suggested,\n        name: suggested\n      });\n      setHasActivites(true);\n      setActivities(tempActivities);\n      setTags(tempTags);\n      console.log(\"activities:\", activities);\n    }\n  };\n\n  const addActivityHandler = tag => {\n    const tempTags = [...tags];\n    tempTags.push(tag);\n    console.log(tags);\n    const tempActivities = [...activities];\n    tempActivities.push({\n      id: tag.id,\n      name: tag.text\n    });\n    setTags(tempTags);\n    setActivities(tempActivities);\n    setHasActivites(true);\n  };\n\n  const deleteActivityHandler = index => {\n    const tempTags = [...tags];\n    const tempActivities = [...activities];\n    tempTags.splice(index, 1);\n    tempActivities.splice(index, 1);\n    console.log(tempTags);\n\n    if (tempTags.length === 0) {\n      setHasActivites(false);\n    }\n\n    setTags(tempTags);\n    setActivities(tempActivities);\n  };\n\n  const routeToActivityParameters = event => {\n    const temp = [];\n    console.log(\"activity length: \", activities.length);\n\n    for (var i = 0; i < activities.length; i++) {\n      let current = activities[i];\n      let currentId = current.id;\n      let flag = false;\n      let tempActivity = {};\n\n      for (var j = 0; j < activityParameters.length; j++) {\n        if (activityParameters[j].id === currentId) {\n          flag = true;\n          tempActivity = activityParameters[j];\n          break;\n        }\n      }\n\n      if (flag) {\n        temp.push(tempActivity);\n      } else {\n        temp.push({\n          id: currentId,\n          fromFt: \"\",\n          fromIn: \"\",\n          toFt: \"\",\n          toIn: \"\",\n          fromBMI: \"\",\n          toBMI: \"\"\n        });\n      }\n    }\n\n    console.log(\"temp: \", temp);\n    setActivityParameters(temp); //console.log(\"actvitivy params\", activityParameters);\n\n    setCurrentActivity(activities[0].id);\n    setDisplay(temp[0]);\n\n    if (temp[0].forFt !== \"\" && temp[0].forIn !== \"\" && temp[0].toFt !== \"\" && temp[0].toIn !== \"\" && temp[0].fromBMI !== \"\" && temp[0].toBMI !== \"\") {\n      setHasActivityParameters(true);\n    } else {\n      setHasActivityParameters(false);\n    }\n\n    setSwitch(true);\n    setCurrentPath(\"/activity-parameters\");\n  };\n  /***-------------------------End of Homepage Handlers-----------------------------***/\n\n  /***-----------------------Activity Parameter Page Handlers-----------------------***/\n\n\n  const updateActivityParametersHandler = event => {\n    setSwitch(false);\n    console.log(switched);\n    const name = event.target.name;\n    let value = event.target.value;\n    const temp = activityParameters;\n\n    for (var i = 0; i < activityParameters.length; i++) {\n      if (activityParameters[i].id === currentActivity) {\n        if (name === \"fromFt\") {\n          temp[i].fromFt = value;\n        } else if (name === \"fromIn\") {\n          temp[i].fromIn = value;\n        } else if (name === \"toFt\") {\n          temp[i].toFt = value;\n        } else if (name === \"toIn\") {\n          temp[i].toIn = value;\n        } else if (name === \"fromBMI\") {\n          temp[i].fromBMI = value;\n        } else if (name === \"toBMI\") {\n          temp[i].toBMI = value;\n        }\n\n        const activity = temp[i];\n\n        if (activity.id === currentActivity) {\n          console.log(\"activity check: \", activity);\n\n          if (activity.fromFt !== \"\" && activity.fromIn !== \"\" && activity.fromBMI !== \"\" && activity.toBMI !== \"\" && activity.toIn !== \"\" && activity.toFt !== \"\") {\n            setHasActivityParameters(true);\n            break;\n          } else {\n            setHasActivityParameters(false);\n          }\n        }\n      }\n    }\n\n    let flag = true;\n\n    for (var j = 0; j < temp.length; j++) {\n      const temp_activity = temp[j];\n\n      if (temp_activity.fromFt === \"\" || temp_activity.fromIn === \"\" || temp_activity.fromBMI === \"\" || temp_activity.toBMI === \"\" || temp_activity.toIn === \"\" || temp_activity.toFt === \"\") {\n        setAllActivitiesCompleted(false);\n        flag = false;\n        break;\n      } //console.log(activityParameters);\n\n\n      console.log(\"all completed?\", allActivitiesCompleted);\n    }\n\n    if (flag) {\n      setAllActivitiesCompleted(true);\n    }\n\n    setActivityParameters(temp);\n  };\n\n  const switchActivityParameters = event => {\n    const name = event.target.name;\n    const prev = currentActivity;\n\n    if (name !== prev) {\n      setSwitch(true);\n      setHasActivityParameters(false);\n      console.log(\"switched!!\"); //console.log(currentPath);\n    }\n\n    setCurrentActivity(name);\n\n    for (var i = 0; i < activityParameters.length; i++) {\n      if (activityParameters[i].id === name) {\n        //console.log(\"Display fromFt: \", activityParameters[i].fromFt);\n        setDisplay(activityParameters[i]);\n        console.log(activityParameters[i]);\n\n        if (switched) {\n          if (activityParameters[i].fromFt !== \"\" && activityParameters[i].fromIn !== \"\" && activityParameters[i].fromBMI !== \"\" && activityParameters[i].toBMI !== \"\" && activityParameters[i].toIn !== \"\" && activityParameters[i].toFt !== \"\") {\n            setHasActivityParameters(true);\n          }\n        }\n\n        console.log(\"Display fromFt: \", activityParameters[i].fromFt);\n        break;\n      }\n    }\n\n    console.log(\"switched\", switched);\n\n    for (var i = 0; i < activityParameters.length; i++) {\n      if (activityParameters[i].id === name) {\n        const activity = activityParameters[i];\n\n        if (activity.id === name) {\n          console.log(\"activity check: \", activity);\n\n          if (activity.fromFt !== \"\" && activity.fromIn !== \"\" && activity.fromBMI !== \"\" && activity.toBMI !== \"\" && activity.toIn !== \"\" && activity.toFt !== \"\") {\n            setHasActivityParameters(true);\n          }\n\n          break;\n        }\n      }\n    }\n  };\n\n  const routeBackToHomePage = event => {\n    setCurrentPath(\"/\");\n    setCurrentActivity(\"\");\n  };\n\n  const routeToVideoParameterPage = event => {\n    if (allActivitiesCompleted) {\n      setCheckPopUp(false);\n    } else {\n      setCheckPopUp(true);\n    }\n\n    const temp = [];\n    console.log(\"activity length: \", activities.length);\n    console.log(\"VIDEO TIME\");\n\n    for (var i = 0; i < activities.length; i++) {\n      let current = activities[i];\n      let currentId = current.id;\n      let flag = false;\n      let tempActivity = {};\n\n      for (var j = 0; j < videoParameters.length; j++) {\n        if (videoParameters[j].id === currentId) {\n          flag = true;\n          tempActivity = videoParameters[j];\n          break;\n        }\n      }\n\n      if (flag) {\n        temp.push(tempActivity);\n      } else {\n        temp.push({\n          id: currentId,\n          numPeople: \"\",\n          numVideo: \"\",\n          fromMin: \"\",\n          toMin: \"\",\n          resolution: \"\"\n        });\n      }\n    }\n\n    console.log(\"temp: \", temp);\n    setVideoParameters(temp);\n    console.log(\"video params\", videoParameters);\n    setCurrentActivity(activities[0].id);\n    setDisplay(temp[0]);\n    setSwitch(true);\n  };\n\n  const applyManually = event => {\n    setCheckPopUp(false);\n  };\n\n  const applyAllActivityParameters = event => {\n    var temp = [];\n    var base = null; //console.log(\"ACPs:\", activityParameters);\n\n    console.log(\"current display: \", currentDisplay);\n\n    for (var i = 0; i < activityParameters.length; i++) {\n      if (activityParameters[i].id === currentActivity) {\n        setDisplay(activityParameters[i]);\n        base = activityParameters[i];\n      }\n    }\n\n    for (var i = 0; i < activityParameters.length; i++) {\n      console.log(\"current activity: \", currentActivity);\n      const temp_activity = activityParameters[i];\n\n      if (temp_activity.fromFt === \"\" || temp_activity.fromIn === \"\" || temp_activity.fromBMI === \"\" || temp_activity.toBMI === \"\" || temp_activity.toIn === \"\" || temp_activity.toFt === \"\") {\n        temp.push({\n          id: temp_activity.id,\n          fromFt: base.fromFt,\n          fromIn: base.fromIn,\n          fromBMI: base.fromBMI,\n          toBMI: base.toBMI,\n          toIn: base.toIn,\n          toFt: base.toFt\n        });\n      } else {\n        temp.push({\n          id: temp_activity.id,\n          fromFt: temp_activity.fromFt,\n          fromIn: temp_activity.fromIn,\n          fromBMI: temp_activity.fromBMI,\n          toBMI: temp_activity.toBMI,\n          toIn: temp_activity.toIn,\n          toFt: temp_activity.toFt\n        });\n      }\n    }\n\n    setActivityParameters(temp);\n    setAllActivitiesCompleted(true);\n    setCheckPopUp(false);\n    setHasActivityParameters(true);\n    console.log(\"ACPs:\", temp);\n    setSwitch(true);\n  };\n  /***--------------------End of Activity Parameter Page Handlers----------------***/\n\n  /***-----------------------Video Parameter Page Handlers-----------------------***/\n\n\n  const updateVideoParametersHandler = event => {\n    setSwitch(false);\n    console.log(switched);\n    const name = event.target.name;\n    let value = event.target.value;\n\n    if (value === \"\") {\n      value = \"0\";\n    }\n\n    const temp = videoParameters;\n\n    for (var i = 0; i < videoParameters.length; i++) {\n      if (videoParameters[i].id === currentActivity) {\n        if (name === \"numPeople\") {\n          temp[i].numPeople = value;\n        } else if (name === \"numVideo\") {\n          temp[i].numVideo = value;\n        } else if (name === \"fromMin\") {\n          temp[i].fromMin = value;\n        } else if (name === \"toMin\") {\n          temp[i].toMin = value;\n        } else if (name === \"resolution\") {\n          temp[i].resolution = value;\n        }\n\n        setDisplay(temp[i]);\n        console.log(temp[i]);\n        break;\n      }\n    }\n\n    setVideoParameters(temp);\n    console.log(\"video parameters: \", videoParameters);\n  };\n\n  const switchVideoParameters = event => {\n    const name = event.target.name;\n    const prev = currentActivity;\n\n    if (name !== prev) {\n      setSwitch(true);\n      setHasActivityParameters(false);\n      console.log(\"switched!!\"); //console.log(currentPath);\n    }\n\n    setCurrentActivity(name);\n\n    for (let i = 0; i < videoParameters.length; i++) {\n      if (videoParameters[i].id === name) {\n        setDisplay(videoParameters[i]);\n        break;\n      }\n    }\n  };\n\n  const routeBackToActivityParameterPage = event => {\n    setCurrentPath(\"/activity-parameters\");\n    setCurrentActivity(activityParameters[0].id);\n    setDisplay(activityParameters[0]);\n    setHasActivityParameters(true);\n  };\n  /***---------------------End of Video Parameter Page Handlers------------------***/\n\n\n  return /*#__PURE__*/React.createElement(BrowserRouter, {\n    className: classes.app,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(HomePage, {\n    hasActivities: hasActivities,\n    suggested: suggested,\n    tags: tags,\n    addActivityHandler: addActivityHandler,\n    deleteActivityHandler: deleteActivityHandler,\n    addFromSelected: () => addFromSelected,\n    routeToActivityParameters: routeToActivityParameters,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/activity-parameters\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ActivityParameterPage, {\n    activities: activities,\n    activityParameters: activityParameters,\n    currentActivity: currentActivity,\n    switched: switched,\n    currentDisplay: currentDisplay,\n    hasActivityParameters: hasActivityParameters,\n    allActivitiesCompleted: allActivitiesCompleted,\n    checkPopUp: checkPopUp,\n    updateParametersHandler: updateActivityParametersHandler,\n    switchActivity: switchActivityParameters,\n    routeBackToHomePage: routeBackToHomePage,\n    routeToVideoParameterPage: routeToVideoParameterPage,\n    applyManually: applyManually,\n    applyAllActivityParameters: applyAllActivityParameters,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/video-parameters\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(VideoParameterPage, {\n    activities: activities,\n    currentActivity: currentActivity,\n    switched: switched,\n    currentDisplay: currentDisplay,\n    updateVideoParametersHandler: updateVideoParametersHandler,\n    switchActivity: switchVideoParameters,\n    routeBackToActivityParameterPage: routeBackToActivityParameterPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/ac/Desktop/ui/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Route","classes","HomePage","ActivityParameterPage","VideoParameterPage","App","activities","setActivities","hasActivities","setHasActivites","currentActivity","setCurrentActivity","currentPath","setCurrentPath","tags","setTags","suggested","id","name","activityParameters","setActivityParameters","switched","setSwitch","currentDisplay","setDisplay","hasActivityParameters","setHasActivityParameters","allActivitiesCompleted","setAllActivitiesCompleted","checkPopUp","setCheckPopUp","videoParameters","setVideoParameters","addFromSelected","event","target","toString","console","log","text","some","a","tempActivities","tempTags","push","addActivityHandler","tag","deleteActivityHandler","index","splice","length","routeToActivityParameters","temp","i","current","currentId","flag","tempActivity","j","fromFt","fromIn","toFt","toIn","fromBMI","toBMI","forFt","forIn","updateActivityParametersHandler","value","activity","temp_activity","switchActivityParameters","prev","routeBackToHomePage","routeToVideoParameterPage","numPeople","numVideo","fromMin","toMin","resolution","applyManually","applyAllActivityParameters","base","updateVideoParametersHandler","switchVideoParameters","routeBackToActivityParameterPage","app"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport classes from \"./App.module.scss\";\n\nimport HomePage from \"./pages/HomePage/HomePage\";\nimport ActivityParameterPage from \"./pages/ActivityParameterPage/ActivityParameterPage\";\nimport VideoParameterPage from \"./pages/VideoParametersPage/VideoParameterPage\";\n\nconst App = () => {\n  /* Global States */\n  const [activities, setActivities] = useState([]);\n  const [hasActivities, setHasActivites] = useState(false);\n  const [currentActivity, setCurrentActivity] = useState(\"\");\n  const [currentPath, setCurrentPath] = useState(\"/\");\n\n  /* Homapage States */\n  const [tags, setTags] = useState([]);\n  const suggested = [\n    { id: \"Singing\", name: \"Singing\" },\n    { id: \"Dancing\", name: \"Dancing\" },\n    { id: \"Kicking\", name: \"Kicking\" },\n    { id: \"Typing\", name: \"Typing\" },\n    { id: \"Running\", name: \"Running\" },\n    { id: \"Lifting\", name: \"Lifting\" },\n  ];\n\n  /* Activity Parameter States */\n  const [activityParameters, setActivityParameters] = useState([]);\n  const [switched, setSwitch] = useState(false);\n  const [currentDisplay, setDisplay] = useState({});\n  const [hasActivityParameters, setHasActivityParameters] = useState(false);\n  const [allActivitiesCompleted, setAllActivitiesCompleted] = useState(false);\n  const [checkPopUp, setCheckPopUp] = useState(false);\n\n  /* Video Parameter States */\n  const [videoParameters, setVideoParameters] = useState([]);\n\n  /***----------------------------Homepage Handlers-----------------------------***/\n  const addFromSelected = (event) => {\n    const suggested = event.target.name.toString();\n    console.log({\n      id: suggested,\n      text: suggested,\n    });\n    if (!activities.some((a) => a.id === suggested && a.name === suggested)) {\n      const tempActivities = [...activities];\n      const tempTags = [...tags];\n      tempTags.push({\n        id: suggested,\n        text: suggested,\n      });\n      tempActivities.push({\n        id: suggested,\n        name: suggested,\n      });\n      setHasActivites(true);\n      setActivities(tempActivities);\n      setTags(tempTags);\n      console.log(\"activities:\", activities);\n    }\n  };\n\n  const addActivityHandler = (tag) => {\n    const tempTags = [...tags];\n    tempTags.push(tag);\n    console.log(tags);\n    const tempActivities = [...activities];\n    tempActivities.push({\n      id: tag.id,\n      name: tag.text,\n    });\n\n    setTags(tempTags);\n    setActivities(tempActivities);\n    setHasActivites(true);\n  };\n\n  const deleteActivityHandler = (index) => {\n    const tempTags = [...tags];\n    const tempActivities = [...activities];\n\n    tempTags.splice(index, 1);\n    tempActivities.splice(index, 1);\n\n    console.log(tempTags);\n\n    if (tempTags.length === 0) {\n      setHasActivites(false);\n    }\n\n    setTags(tempTags);\n    setActivities(tempActivities);\n  };\n\n  const routeToActivityParameters = (event) => {\n    const temp = [];\n    console.log(\"activity length: \", activities.length);\n\n    for (var i = 0; i < activities.length; i++) {\n      let current = activities[i];\n      let currentId = current.id;\n      let flag = false;\n      let tempActivity = {};\n      for (var j = 0; j < activityParameters.length; j++) {\n        if (activityParameters[j].id === currentId) {\n          flag = true;\n          tempActivity = activityParameters[j];\n          break;\n        }\n      }\n      if (flag) {\n        temp.push(tempActivity);\n      } else {\n        temp.push({\n          id: currentId,\n          fromFt: \"\",\n          fromIn: \"\",\n          toFt: \"\",\n          toIn: \"\",\n          fromBMI: \"\",\n          toBMI: \"\",\n        });\n      }\n    }\n\n    console.log(\"temp: \", temp);\n    setActivityParameters(temp);\n    //console.log(\"actvitivy params\", activityParameters);\n    setCurrentActivity(activities[0].id);\n    setDisplay(temp[0]);\n\n    if (\n      temp[0].forFt !== \"\" &&\n      temp[0].forIn !== \"\" &&\n      temp[0].toFt !== \"\" &&\n      temp[0].toIn !== \"\" &&\n      temp[0].fromBMI !== \"\" &&\n      temp[0].toBMI !== \"\"\n    ) {\n      setHasActivityParameters(true);\n    } else {\n      setHasActivityParameters(false);\n    }\n\n    setSwitch(true);\n    setCurrentPath(\"/activity-parameters\");\n  };\n  /***-------------------------End of Homepage Handlers-----------------------------***/\n\n  /***-----------------------Activity Parameter Page Handlers-----------------------***/\n  const updateActivityParametersHandler = (event) => {\n    setSwitch(false);\n    console.log(switched);\n    const name = event.target.name;\n    let value = event.target.value;\n    const temp = activityParameters;\n\n    for (var i = 0; i < activityParameters.length; i++) {\n      if (activityParameters[i].id === currentActivity) {\n        if (name === \"fromFt\") {\n          temp[i].fromFt = value;\n        } else if (name === \"fromIn\") {\n          temp[i].fromIn = value;\n        } else if (name === \"toFt\") {\n          temp[i].toFt = value;\n        } else if (name === \"toIn\") {\n          temp[i].toIn = value;\n        } else if (name === \"fromBMI\") {\n          temp[i].fromBMI = value;\n        } else if (name === \"toBMI\") {\n          temp[i].toBMI = value;\n        }\n\n        const activity = temp[i];\n        if (activity.id === currentActivity) {\n          console.log(\"activity check: \", activity);\n          if (\n            activity.fromFt !== \"\" &&\n            activity.fromIn !== \"\" &&\n            activity.fromBMI !== \"\" &&\n            activity.toBMI !== \"\" &&\n            activity.toIn !== \"\" &&\n            activity.toFt !== \"\"\n          ) {\n            setHasActivityParameters(true);\n            break;\n          } else {\n            setHasActivityParameters(false);\n          }\n        }\n      }\n    }\n\n    let flag = true;\n    for (var j = 0; j < temp.length; j++) {\n      const temp_activity = temp[j];\n      if (\n        temp_activity.fromFt === \"\" ||\n        temp_activity.fromIn === \"\" ||\n        temp_activity.fromBMI === \"\" ||\n        temp_activity.toBMI === \"\" ||\n        temp_activity.toIn === \"\" ||\n        temp_activity.toFt === \"\"\n      ) {\n        setAllActivitiesCompleted(false);\n        flag = false;\n        break;\n      }\n      //console.log(activityParameters);\n      console.log(\"all completed?\", allActivitiesCompleted);\n    }\n    if (flag) {\n      setAllActivitiesCompleted(true);\n    }\n    setActivityParameters(temp);\n  };\n\n  const switchActivityParameters = (event) => {\n    const name = event.target.name;\n    const prev = currentActivity;\n    if (name !== prev) {\n      setSwitch(true);\n      setHasActivityParameters(false);\n      console.log(\"switched!!\");\n      //console.log(currentPath);\n    }\n    setCurrentActivity(name);\n\n    for (var i = 0; i < activityParameters.length; i++) {\n      if (activityParameters[i].id === name) {\n        //console.log(\"Display fromFt: \", activityParameters[i].fromFt);\n        setDisplay(activityParameters[i]);\n        console.log(activityParameters[i]);\n        if (switched) {\n          if (\n            activityParameters[i].fromFt !== \"\" &&\n            activityParameters[i].fromIn !== \"\" &&\n            activityParameters[i].fromBMI !== \"\" &&\n            activityParameters[i].toBMI !== \"\" &&\n            activityParameters[i].toIn !== \"\" &&\n            activityParameters[i].toFt !== \"\"\n          ) {\n            setHasActivityParameters(true);\n          }\n        }\n        console.log(\"Display fromFt: \", activityParameters[i].fromFt);\n        break;\n      }\n    }\n    console.log(\"switched\", switched);\n\n    for (var i = 0; i < activityParameters.length; i++) {\n      if (activityParameters[i].id === name) {\n        const activity = activityParameters[i];\n        if (activity.id === name) {\n          console.log(\"activity check: \", activity);\n          if (\n            activity.fromFt !== \"\" &&\n            activity.fromIn !== \"\" &&\n            activity.fromBMI !== \"\" &&\n            activity.toBMI !== \"\" &&\n            activity.toIn !== \"\" &&\n            activity.toFt !== \"\"\n          ) {\n            setHasActivityParameters(true);\n          }\n          break;\n        }\n      }\n    }\n  };\n\n  const routeBackToHomePage = (event) => {\n    setCurrentPath(\"/\");\n    setCurrentActivity(\"\");\n  };\n\n  const routeToVideoParameterPage = (event) => {\n    if (allActivitiesCompleted) {\n      setCheckPopUp(false);\n    } else {\n      setCheckPopUp(true);\n    }\n    const temp = [];\n    console.log(\"activity length: \", activities.length);\n    console.log(\"VIDEO TIME\");\n\n    for (var i = 0; i < activities.length; i++) {\n      let current = activities[i];\n      let currentId = current.id;\n      let flag = false;\n      let tempActivity = {};\n      for (var j = 0; j < videoParameters.length; j++) {\n        if (videoParameters[j].id === currentId) {\n          flag = true;\n          tempActivity = videoParameters[j];\n          break;\n        }\n      }\n      if (flag) {\n        temp.push(tempActivity);\n      } else {\n        temp.push({\n          id: currentId,\n          numPeople: \"\",\n          numVideo: \"\",\n          fromMin: \"\",\n          toMin: \"\",\n          resolution: \"\",\n        });\n      }\n    }\n    console.log(\"temp: \", temp);\n    setVideoParameters(temp);\n    console.log(\"video params\", videoParameters);\n    setCurrentActivity(activities[0].id);\n    setDisplay(temp[0]);\n    setSwitch(true);\n  };\n\n  const applyManually = (event) => {\n    setCheckPopUp(false);\n  };\n\n  const applyAllActivityParameters = (event) => {\n    var temp = [];\n    var base = null;\n\n    //console.log(\"ACPs:\", activityParameters);\n\n    console.log(\"current display: \", currentDisplay);\n    for (var i = 0; i < activityParameters.length; i++) {\n      if (activityParameters[i].id === currentActivity) {\n        setDisplay(activityParameters[i]);\n        base = activityParameters[i];\n      }\n    }\n\n    for (var i = 0; i < activityParameters.length; i++) {\n      console.log(\"current activity: \", currentActivity);\n      const temp_activity = activityParameters[i];\n      if (\n        temp_activity.fromFt === \"\" ||\n        temp_activity.fromIn === \"\" ||\n        temp_activity.fromBMI === \"\" ||\n        temp_activity.toBMI === \"\" ||\n        temp_activity.toIn === \"\" ||\n        temp_activity.toFt === \"\"\n      ) {\n        temp.push({\n          id: temp_activity.id,\n          fromFt: base.fromFt,\n          fromIn: base.fromIn,\n          fromBMI: base.fromBMI,\n          toBMI: base.toBMI,\n          toIn: base.toIn,\n          toFt: base.toFt,\n        });\n      } else {\n        temp.push({\n          id: temp_activity.id,\n          fromFt: temp_activity.fromFt,\n          fromIn: temp_activity.fromIn,\n          fromBMI: temp_activity.fromBMI,\n          toBMI: temp_activity.toBMI,\n          toIn: temp_activity.toIn,\n          toFt: temp_activity.toFt,\n        });\n      }\n    }\n    setActivityParameters(temp);\n    setAllActivitiesCompleted(true);\n    setCheckPopUp(false);\n    setHasActivityParameters(true);\n    console.log(\"ACPs:\", temp);\n    setSwitch(true);\n  };\n\n  /***--------------------End of Activity Parameter Page Handlers----------------***/\n\n  /***-----------------------Video Parameter Page Handlers-----------------------***/\n\n  const updateVideoParametersHandler = (event) => {\n    setSwitch(false);\n    console.log(switched);\n    const name = event.target.name;\n    let value = event.target.value;\n    if (value === \"\") {\n      value = \"0\";\n    }\n    const temp = videoParameters;\n\n    for (var i = 0; i < videoParameters.length; i++) {\n      if (videoParameters[i].id === currentActivity) {\n        if (name === \"numPeople\") {\n          temp[i].numPeople = value;\n        } else if (name === \"numVideo\") {\n          temp[i].numVideo = value;\n        } else if (name === \"fromMin\") {\n          temp[i].fromMin = value;\n        } else if (name === \"toMin\") {\n          temp[i].toMin = value;\n        } else if (name === \"resolution\") {\n          temp[i].resolution = value;\n        }\n        setDisplay(temp[i]);\n        console.log(temp[i]);\n        break;\n      }\n    }\n    setVideoParameters(temp);\n    console.log(\"video parameters: \", videoParameters);\n  };\n\n  const switchVideoParameters = (event) => {\n    const name = event.target.name;\n    const prev = currentActivity;\n    if (name !== prev) {\n      setSwitch(true);\n      setHasActivityParameters(false);\n      console.log(\"switched!!\");\n      //console.log(currentPath);\n    }\n    setCurrentActivity(name);\n\n    for (let i = 0; i < videoParameters.length; i++) {\n      if (videoParameters[i].id === name) {\n        setDisplay(videoParameters[i]);\n        break;\n      }\n    }\n  };\n\n  const routeBackToActivityParameterPage = (event) => {\n    setCurrentPath(\"/activity-parameters\");\n    setCurrentActivity(activityParameters[0].id);\n    setDisplay(activityParameters[0]);\n    setHasActivityParameters(true);\n  };\n\n  /***---------------------End of Video Parameter Page Handlers------------------***/\n\n  return (\n    <BrowserRouter className={classes.app}>\n      <Route path={\"/\"} exact>\n        <HomePage\n          hasActivities={hasActivities}\n          suggested={suggested}\n          tags={tags}\n          addActivityHandler={addActivityHandler}\n          deleteActivityHandler={deleteActivityHandler}\n          addFromSelected={() => addFromSelected}\n          routeToActivityParameters={routeToActivityParameters}\n        />\n      </Route>\n      <Route path={\"/activity-parameters\"} exact>\n        <ActivityParameterPage\n          activities={activities}\n          activityParameters={activityParameters}\n          currentActivity={currentActivity}\n          switched={switched}\n          currentDisplay={currentDisplay}\n          hasActivityParameters={hasActivityParameters}\n          allActivitiesCompleted={allActivitiesCompleted}\n          checkPopUp={checkPopUp}\n          updateParametersHandler={updateActivityParametersHandler}\n          switchActivity={switchActivityParameters}\n          routeBackToHomePage={routeBackToHomePage}\n          routeToVideoParameterPage={routeToVideoParameterPage}\n          applyManually={applyManually}\n          applyAllActivityParameters={applyAllActivityParameters}\n        />\n      </Route>\n      <Route path={\"/video-parameters\"} exact>\n        <VideoParameterPage\n          activities={activities}\n          currentActivity={currentActivity}\n          switched={switched}\n          currentDisplay={currentDisplay}\n          updateVideoParametersHandler={updateVideoParametersHandler}\n          switchActivity={switchVideoParameters}\n          routeBackToActivityParameterPage={routeBackToActivityParameterPage}\n        />\n      </Route>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}